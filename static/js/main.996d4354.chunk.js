(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e){e.exports={b:[{id:"peanut",title:"PB & Jelly Get in My Belly",img:"/images/mixes/mix-peanut.png",shop_url:"https://proteinbarmix.com/products/protein-bar-mix",standard_servings:8,stats:{cals:1280,fats:64,carbs:112,fiber:40,sugar:40,protein:96}},{id:"peas",title:"Peas, Love, & Cocoa",img:"/images/mixes/mix-peas.png",shop_url:"https://proteinbarmix.com/products/vegan-protein-bar-mix-peas-love-chocolate",standard_servings:8,stats:{cals:1360,fats:88,carbs:88,fiber:48,sugar:16,protein:96}},{id:"whey",title:"Whey Hip Chocolate Chip",img:"/images/mixes/mix-whey.png",shop_url:"https://proteinbarmix.com/products/primal-protein-bar-mix-whey-hip-chocolate-chip",standard_servings:8,stats:{cals:1440,fats:88,carbs:72,fiber:32,sugar:24,protein:112}},{id:"cocoa",title:"Cocoa for Coconuts",img:"/images/mixes/mix-cocoa.png",shop_url:"https://proteinbarmix.com//products/paleo-energy-bites-mix-cocoa-for-coconuts",standard_servings:12,stats:{cals:960,fats:72,carbs:60,fiber:36,sugar:12,protein:84}},{id:"oat",title:"Oat Yes! Chocolate Chip",img:"/images/mixes/mix-oat.png",shop_url:"https://proteinbarmix.com/products/oats-energy-bar-mix-oat-yeah-chocolate-chip",standard_servings:12,stats:{cals:1320,fats:84,carbs:144,fiber:36,sugar:24,protein:72}}],a:{liquids:[{label:"water",value:"water",cals:0,fats:0,carbs:0,fiber:0,sugar:0,protein:0},{label:"almond milk",value:"almond milk",cals:110,fats:9,carbs:3,fiber:2,sugar:1,protein:5},{label:"whole milk",value:"whole milk",cals:160,fats:9,carbs:12,fiber:0,sugar:11,protein:8},{label:"mashed bananas",value:"mashed bananas",cals:200,fats:.75,carbs:50,fiber:6,sugar:27,protein:3},{label:"apple juice",value:"apple juice",cals:101,fats:0,carbs:22,fiber:0,sugar:21,protein:1},{label:"greek yogurt",value:"greek yogurt",cals:220,fats:12,carbs:9,fiber:1,sugar:7,protein:20},{label:"low-fat yogurt",value:"low-fat yogurt",cals:154,fats:3.8,carbs:17,fiber:0,sugar:17,protein:13}],fats:[{label:"almond butter",value:"almond butter",cals:1521,fats:144,carbs:48,fiber:24,sugar:8,protein:56},{label:"peanut butter",value:"peanut butter",cals:1680,fats:128,carbs:48,fiber:16,sugar:16,protein:72},{label:"sunflower butter",value:"sunflower butter",cals:1761,fats:160,carbs:40,fiber:16,sugar:8,protein:56},{label:"sweetened nut butter",value:"sweetened nut butter",cals:1439,fats:112,carbs:64,fiber:24,sugar:32,protein:48},{label:"coconut oil",value:"coconut oil",cals:1945,fats:216,carbs:0,fiber:0,sugar:0,protein:0},{label:"coconut butter",value:"coconut butter",cals:1761,fats:160,carbs:64,fiber:32,sugar:16,protein:16},{label:"ghee",value:"ghee",cals:2160,fats:240,carbs:0,fiber:0,sugar:0,protein:0},{label:"grass-fed butter",value:"grass-fed butter",cals:1600,fats:176,carbs:0,fiber:0,sugar:0,protein:0}],sweeteners:[{label:"agave",value:"agave",cals:960,fats:1,carbs:256,fiber:0,sugar:256,protein:0},{label:"honey",value:"honey",cals:980,fats:0,carbs:279,fiber:1,sugar:278,protein:1},{label:"maple",value:"maple",cals:800,fats:0,carbs:192,fiber:0,sugar:192,protein:0},{label:"mashed bananas",value:"mashed bananas",cals:200,fats:.75,carbs:50,fiber:6,sugar:27,protein:3},{label:"coconut nectar",value:"coconut nectar",cals:881,fats:0,carbs:208,fiber:0,sugar:208,protein:0},{label:"date syrup",value:"date syrup",cals:864,fats:0,carbs:224,fiber:0,sugar:208,protein:0},{label:"molasses",value:"molasses",cals:977,fats:0,carbs:252,fiber:0,sugar:252,protein:0},{label:"sugar-free syrup",value:"sugar-free syrup",cals:120,fats:0,carbs:72,fiber:24,sugar:0,protein:0}]},c:[{label:"1 cup",value:1},{label:"3/4 cup",value:.75},{label:"2/3 cup",value:.6666666667},{label:"1/2 cup",value:.5},{label:"1/3 cup",value:.3333333333},{label:"1/4 cup",value:.25},{label:"2 tbsp.",value:.125}]}},184:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),i=a.n(s),o=a(17),l=a(8),c=a(9),d=a(12),u=a(10),p=a(11),m=a(83),b=a.n(m),v=(a(97),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.loading?"app-is--loading":""},r.a.createElement("section",{className:"app-section app-loader"},r.a.createElement("div",{className:"app-loading-container"},r.a.createElement("div",{className:"app-loading-animation"}),r.a.createElement("h3",null,"Loading"))))}}]),t}(n.Component)),h=a(15),f=a(29),g="/"+f.a,E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).isProductSelected=function(e){return JSON.stringify(a.props.selectedProduct)===JSON.stringify(e)},a.title=e.title,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"product-grid"},h.b.map(function(t,a){return r.a.createElement("article",{key:a,onClick:function(){e.props.onProductSelect(t,e.props.goToStep)},id:"product--"+t.id,className:"product ".concat(e.props.isProductSelected(t)?"selected":"")},r.a.createElement("div",{className:"product__img"},r.a.createElement("img",{src:g+t.img,alt:t.title})),r.a.createElement("div",{className:"product__title"},t.title))}))}}]),t}(n.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.type,a=this.props.activeAddons,n=this.props.required;return r.a.createElement("div",{id:"mixinsCtrlGroup__".concat(t),className:"mixins-controls-group--".concat(t," mixins-controls-group ").concat(n&&"required")},r.a.createElement("div",{className:"mixins-controls-header"},r.a.createElement("div",{className:"mixin-controls-header__graphic"},r.a.createElement("img",{src:"".concat(this.props.baseUrl,"/images/icons/icon-").concat(t,".png"),className:"mixins-controls-header__img",alt:t})),r.a.createElement("h4",null,t),r.a.createElement("button",{onClick:function(){return e.props.openModal(t)},type:"button",className:"text-button ".concat(a.length<1||1===a.length&&null===a[0].addon?"disabled":"")},"Edit")),a.length>1||1===a.length&&null!==a[0].addon?r.a.createElement("div",{className:"mixins-controls-list"},r.a.createElement("ul",{className:"mixins-ingredients-list"},a.map(function(e,t){return null!==e.addon&&r.a.createElement("li",{key:t},e.quantity.label?e.quantity.label:""," ",e.addon&&e.addon.label)}))):r.a.createElement("button",{className:"button--add button--outline",onClick:function(){return e.props.openModal(t)}},"Add ",t))}}]),t}(n.Component),w=(a(99),a(40)),N=a.n(w),S=a(59),_=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.type,a=this.props.id,n=h.a[t];return r.a.createElement("div",{className:"addon-row row row-".concat(a)},r.a.createElement("div",{className:"addon-row__amount col-sm"},r.a.createElement(S.a,{classNamePrefix:"app-select",options:h.c,value:this.props.selectedQuantity,onChange:this.props.onSelectQuantity(t,a),placeholder:"Select Quantity"})),r.a.createElement("div",{className:"addon-row__of col-sm-auto p-0"},"of"),r.a.createElement("div",{className:"addon-row__type col-sm"},r.a.createElement(S.a,{classNamePrefix:"app-select",options:n,onChange:this.props.onSelectAddon(t,a),value:this.props.selectedAddon,placeholder:"Choose a ".concat(t&&t.slice(0,-1))})),r.a.createElement("div",{className:"addon-row__remove col-sm-auto"},r.a.createElement("button",{onClick:function(){return e.props.removeAddonRow(t,a)},className:"button button-remove--addonrow"},r.a.createElement("svg",{width:"12px",height:"12px",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},r.a.createElement("g",{id:"Close"},r.a.createElement("path",{fill:"#cdcdcd",d:"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88 c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242 C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879 s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"}))))))}}]),t}(n.Component);N.a.setAppElement("#root"),N.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,.45)";var A={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",fontSize:"1.6rem",padding:"50px",overflow:"visible",width:"640px",maxWidth:"100%"},h2:{fontSize:"28px"}},k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onModalCancel=function(){a.props.closeModal()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(N.a,{style:A,isOpen:this.props.modalIsOpen,onAfterOpen:this.props.afterOpenModal,onRequestClose:this.props.closeModal,contentLabel:"Add ".concat(this.props.type," to your mix")},r.a.createElement("div",{className:"app-modal"},r.a.createElement("div",{className:"app-modal--header"},r.a.createElement("h2",{className:"app-modal--title"},"Add"," ",this.props.type&&this.props.type.replace(this.props.type.charAt(0),this.props.type.charAt(0).toUpperCase())," ","to Your Recipe"),r.a.createElement("img",{className:"app-modal--img",src:"".concat(this.props.baseUrl,"/images/icons/icon-").concat(this.props.type,".png"),alt:this.props.type})),r.a.createElement("div",{className:"app-modal--body"},this.props.modalAddons[this.props.type].map(function(t,a){return r.a.createElement(_,{id:a,key:a,type:e.props.type,selectedAddon:t.addon,selectedQuantity:t.quantity,removeAddonRow:e.props.removeAddonRow,onSelectQuantity:e.props.onSelectQuantity,onSelectAddon:e.props.onSelectAddon})}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"button",className:"btn btn-add--row ".concat(this.props.modalAddons[this.props.type].length<3?"":"visually-hidden"),onClick:function(){return e.props.addNewAddonRow(e.props.type)}},"Add another"," ",this.props.type&&this.props.type.slice(0,-1)," +")))),r.a.createElement("div",{className:"app-modal--footer"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{className:"button--add-mixin button",type:"button",onClick:function(){e.props.onSubmitModal(e.props.type,e.props.modalAddons,e.props.closeModal)}},"Add to Recipe")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{className:"button button--outline button--outline--gray",type:"button",onClick:this.onModalCancel},"Cancel")))))))}}]),t}(n.Component),O="/"+f.a,x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).isTypeRequired=function(e){return a.props.requiredType.type===e},a.openModal=function(e){a.setState({modal:{open:!0,type:e}})},a.afterOpenModal=function(){},a.closeModal=function(){a.setState({modal:{open:!1,type:null}})},a.title=e.title,a.state={modal:{open:!1,type:null,modalAddons:[e.modalAddons]}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedProduct;return r.a.createElement("section",null,r.a.createElement("div",{className:"product-details"},r.a.createElement("div",{className:"product-details__img"},r.a.createElement("img",{src:O+t.img,alt:t.title})),r.a.createElement("div",{className:"product-details__info"},r.a.createElement("h2",null,t.title,r.a.createElement("a",{href:t.shop_url,target:"_blank"},"Shop Now")),r.a.createElement("h3",{class:"product-details__serving-notice"},"Nutrition per serving, based on ",t.standard_servings," servings"),r.a.createElement("div",{className:"product-nutrition"},r.a.createElement("div",{className:"nutrition-item--cals nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Calories"),r.a.createElement("div",{className:"nutrition-item__value"},t.stats.cals/t.standard_servings)),r.a.createElement("div",{className:"nutrition-item--fats nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Fats"),r.a.createElement("div",{className:"nutrition-item__value"},t.stats.fats/t.standard_servings)),r.a.createElement("div",{className:"nutrition-item--carbs nutrition-item"},r.a.createElement("div",{className:"nutrition-item--carbs__total"},r.a.createElement("div",{className:"nutrition-item__label"},"Total Carbs"),r.a.createElement("div",{className:"nutrition-item__value"},t.stats.carbs/t.standard_servings)),r.a.createElement("div",{className:"nutrition-item--carbs__breakdown"},r.a.createElement("div",{className:"carbs-breakdown-item"},t.stats.fiber/t.standard_servings,r.a.createElement("span",null,"G Fiber")),r.a.createElement("div",{className:"carbs-breakdown-item"},t.stats.sugar/t.standard_servings,r.a.createElement("span",null,"G Sugars")))),r.a.createElement("div",{className:"nutrition-item--protein nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Protein"),r.a.createElement("div",{className:"nutrition-item__value"},t.stats.protein/t.standard_servings))))),r.a.createElement("div",{className:"app-mixins"},r.a.createElement("div",{className:"app-mixins-title"},r.a.createElement("h3",null,"Now, Add Your Mixins")),r.a.createElement("div",{className:"app-mixins-controls"},Object.keys(this.props.allAddons).map(function(t,a){return r.a.createElement(y,{key:a,type:t,required:e.isTypeRequired(t),activeAddons:e.props.activeAddons[t],openModal:e.openModal.bind(e),baseUrl:O})}),function(){var t=e.state.modal.type;if(t)return r.a.createElement(k,{type:t,modalAddons:e.props.modalAddons,activeAddons:e.props.activeAddons,openModal:e.openModal.bind(e),closeModal:e.closeModal.bind(e),modalIsOpen:e.state.modal.open,onSelectAddon:e.props.onSelectAddon,onSelectQuantity:e.props.onSelectQuantity,addNewAddonRow:e.props.addNewAddonRow,removeAddonRow:e.props.removeAddonRow,onSubmitModal:e.props.onSubmitModal,baseUrl:O})}()),r.a.createElement("div",{className:"app-mixins-legend text-center"},r.a.createElement("legend",null,"Select at least one liquid to proceed ")),r.a.createElement("div",{className:"app-mixins-cta"},r.a.createElement("div",{className:"app-mixins-cta-block"},r.a.createElement("div",{className:"servings-form"},r.a.createElement("span",null,"Divided into"),r.a.createElement("input",{type:"number",id:"servings-input",min:0,max:40,onChange:this.props.onDividedByChange,defaultValue:t.standard_servings}),r.a.createElement("span",null,"bars / balls")),r.a.createElement("button",{type:"button",className:"button",disabled:this.props.activeAddons.liquids.length<1||1===this.props.activeAddons.liquids.length&&!this.props.activeAddons.liquids[0].addon,onClick:function(){e.props.onViewBreakdown(e.props.goToStep)}},"View Nutrition Breakdown")))))}}]),t}(n.Component),C=(a(117),a(87)),j=a.n(C),B=a(43),R=a(89),M=a.n(R),P=a(90),q=a.n(P),T="/"+f.a,L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({activeKey:e})},a.title=e.title,a.state={activeKey:"0",start:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.start,t=this.props.finalRows,a=[{title:"Per Serving",multiplier:this.props.dividedBy},{title:"Recipe Total",multiplier:1}],n=this.props.dividedBy,s=t.filter(function(e){return e.source.indexOf("addon")>-1}),i={};t.map(function(e){Object.keys(e).map(function(t){"number"===typeof e[t]&&(void 0!==i[t]?i[t]+=e[t]:i[t]=e[t])})});var o,l=function(e){var t=e.id,a=e.dividedBy,n=function(e){var t=(e*(1/a)).toFixed(1);return 0!==parseInt(t.split(".")[1],10)?t:t.split(".")[0]};return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"app-breakdown__details"},r.a.createElement("div",{className:"product-nutrition"},r.a.createElement("div",{className:"nutrition-item--cals nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Calories"),r.a.createElement("div",{className:"nutrition-item__value"},n(i.cals))),r.a.createElement("div",{className:"nutrition-item--fats nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Fats"),r.a.createElement("div",{className:"nutrition-item__value"},n(i.fats))),r.a.createElement("div",{className:"nutrition-item--carbs nutrition-item"},r.a.createElement("div",{className:"nutrition-item--carbs__total"},r.a.createElement("div",{className:"nutrition-item__label"},"Total Carbs"),r.a.createElement("div",{className:"nutrition-item__value"},n(i.carbs))),r.a.createElement("div",{className:"nutrition-item--carbs__breakdown"},r.a.createElement("div",{className:"carbs-breakdown-item"},n(i.fiber)," ",r.a.createElement("span",null,"G Fiber")),r.a.createElement("div",{className:"carbs-breakdown-item"},n(i.sugar)," ",r.a.createElement("span",null,"G Sugars")))),r.a.createElement("div",{className:"nutrition-item--protein nutrition-item"},r.a.createElement("div",{className:"nutrition-item__label"},"Protein"),r.a.createElement("div",{className:"nutrition-item__value"},n(i.protein))))))};return r.a.createElement("section",{className:"app-section-3"},r.a.createElement("div",{className:"app-breakdown--peanut app-breakdown"},r.a.createElement("div",{className:"app-breakdown__main"},r.a.createElement("div",{className:"app-breakdown__product-img-wrap"},r.a.createElement("div",{className:"app-breakdown__product-img"},r.a.createElement("img",{src:T+this.props.selectedProduct.img,alt:this.props.selectedProduct.title}))),r.a.createElement("div",{className:"app-breakdown__titles"},r.a.createElement("h2",{className:"h1"},this.props.selectedProduct.title),r.a.createElement("div",{className:"breakdown-mixins-description"},"with"," ",(o="",s.map(function(e,t){o+=(t>0?", ":"")+e.quantity.label+" "+e.label}),r.a.createElement("span",null,o))),r.a.createElement("div",{className:"breakdown-servings"},"Split Into ",n," Servings")),r.a.createElement(B.b,{renderTabBar:function(){return r.a.createElement(q.a,null)},renderTabContent:function(){return r.a.createElement(M.a,{animatedWithMargin:!0})},navWrapper:function(e){return r.a.createElement(j.a,null,e)},activeKey:this.state.activeKey,onChange:this.onChange},r.a.createElement(B.a,{tab:"".concat(a[e].title),key:"0"},r.a.createElement(l,{id:e,resultTypes:a,dividedBy:n})),r.a.createElement(B.a,{tab:"".concat(a[e+1].title),key:"1"},r.a.createElement(l,{id:e+1,resultTypes:a,dividedBy:"1"})))),r.a.createElement("div",{className:"app-breakdown__share"},r.a.createElement("h4",null,"Save Your Nutrition Breakdown"),r.a.createElement("form",{className:"form--share"},r.a.createElement("input",{type:"email",placeholder:"Your email address"}),r.a.createElement("button",{className:"button--send button"},"Send")))))}}]),t}(n.Component);E.title="Pick Your Mix",x.title="What\u2019s Your Recipe",L.title="Nutrition Breakdown";var W={Step1:E,Step2:x,Step3:L},Q=(a(184),a(34)),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleStepChange=function(e){null!==a.props.selectedProduct&&a.props.goToStep(e)},a.handleStepChange=a.handleStepChange.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=this.props.currentStep,n=function(n){var s=a>=n;t.push(r.a.createElement("li",{className:"progress-step-".concat(n," ").concat(s?"active":""),key:n},r.a.createElement("button",{type:"button",onClick:function(){return e.handleStepChange(n)},className:null===e.props.selectedProduct&&n>1||e.props.activeAddons.liquids.length<1||1===e.props.activeAddons.liquids.length&&!e.props.activeAddons.liquids[0].addon?"disabled":""},n,". ",e.props.steps[n-1].title)))},s=1;s<=this.props.totalSteps;s+=1)n(s);return r.a.createElement("div",null,r.a.createElement("nav",{className:"app-progress-bar"},r.a.createElement("ul",null,t)),r.a.createElement("div",{className:"app-title"},a<=1?"":r.a.createElement("button",{onClick:function(){return e.props.goToStep(a-1)},className:"button--text app-back--button"},r.a.createElement("span",{className:"btn-icon btn-icon--left"},r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 63.336 63.336",width:"11px",height:"11px",xmlSpace:"preserve"},r.a.createElement("path",{fill:"#f05a5c",d:"M14.924,34.879l30.822,27.938c0.383,0.348,0.864,0.519,1.344,0.519c0.545,0,1.087-0.222,1.482-0.657 c0.741-0.818,0.68-2.083-0.139-2.824l-29.642-26.87L45.66,3.342c0.742-0.818,0.68-2.083-0.139-2.824 c-0.817-0.742-2.082-0.679-2.824,0.139L14.758,31.48c-0.439,0.485-0.59,1.126-0.475,1.723 C14.224,33.811,14.436,34.438,14.924,34.879z"}))),r.a.createElement("span",{className:"btn-text"},"Back")),r.a.createElement("h2",null,"Step ",a,": ",this.props.steps[a-1].title,this.props.steps.map(function(e){return e.active&&e.id+": "+e.title})),r.a.createElement("h1",null,1===a?"Recipe Nutrition Calculator":2===a?"What\u2019s Your Recipe":"Your Nutrition Breakdown")))}}]),t}(n.Component),U=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).handleStepChange=function(t){e.setState({currentStep:t.activeStep})},e.onDividedByChange=function(t){t.preventDefault(),t.target.value<=t.target.getAttribute("max")&&t.target.value>=t.target.getAttribute("min")&&e.setState({dividedBy:t.target.value})},e.isProductSelected=function(t){return JSON.stringify(e.state.selected.product)==JSON.stringify(t)},e.onProductSelect=function(t,a){e.setState({selected:{product:e.isProductSelected(t)?null:t},dividedBy:t.standard_servings},function(){null!==this.state.selected.product&&a(this.state.currentStep+1)})},e.onSelectQuantity=function(t,a){return function(n){e.setState(function(e){var r=Object(o.a)({},e);return r.modalAddons[t][a].quantity=n,r})}},e.onSelectAddon=function(t,a){return function(n){e.setState(function(e){var r=Object(o.a)({},e);return r.modalAddons[t][a].addon=n,r})}},e.addNewAddonRow=function(t){e.setState(function(e){var a=e.modalAddons.length,n=Object(o.a)({},e);return n.modalAddons[t].push({id:a,quantity:h.c[0],addon:null}),n})},e.removeAddonRow=function(t,a){e.setState(function(n){var r=Object(o.a)({},n);return e.state.modalAddons[t].length>1?r.modalAddons[t].splice(a-1,1):1===e.state.modalAddons[t].length&&(r.modalAddons[t][0]={id:1,quantity:h.c[0],addon:null}),r})},e.onSubmitModal=function(t,a,n){e.setState({loading:!0}),e.setState(function(e){var n=Object(o.a)({},e);return n.activeAddons[t]=a[t],n}),e.setState(function(e){return Object(o.a)({},e).loading=!1,{loading:!1,modal:{open:!1,type:null}}}),"function"===typeof n&&n()},e.FinalCalculation=function(){var t=e.state.selected.product.stats,a=e.state.activeAddons,n=[Object(o.a)({},t,{source:"product"})];Object.keys(a).map(function(e){a[e].map(function(e){n.push(Object(o.a)({quantity:e.quantity},e.addon,{source:"addon"}))})}),e.setState({finalRows:n})},e.onViewBreakdown=function(t){e.FinalCalculation(),"function"===typeof t&&t(e.state.currentStep+1)};var a={},n={};return Object.keys(h.a).map(function(e,t){a[e]=[],n[e]=[{id:1,quantity:h.c[0],addon:null}]}),e.state={loading:!0,currentStep:1,modal:{open:!1,type:null},activeAddons:a,modalAddons:n,finalRows:[],selected:{product:null},dividedBy:12},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return r.a.createElement("div",{id:"appContent"},r.a.createElement(v,{loading:this.state.loading}),r.a.createElement(b.a,{nav:r.a.createElement(Y,{selectedProduct:this.state.selected.product,steps:[W.Step1,W.Step2,W.Step3],currentStep:this.state.currentStep,activeAddons:this.state.activeAddons}),onStepChange:this.handleStepChange,isLazyMount:!0},r.a.createElement(W.Step1,{currentStep:this.state.currentStep,selectedProduct:this.state.selected.product,onProductSelect:this.onProductSelect,isProductSelected:this.isProductSelected}),r.a.createElement(W.Step2,{currentStep:this.state.currentStep,selectedProduct:this.state.selected.product,dividedBy:this.state.dividedBy,onDividedByChange:this.onDividedByChange,onSelectAddon:this.onSelectAddon,onSelectQuantity:this.onSelectQuantity,onSubmitModal:this.onSubmitModal,allAddons:h.a,modalAddons:this.state.modalAddons,activeAddons:this.state.activeAddons,addNewAddonRow:this.addNewAddonRow,removeAddonRow:this.removeAddonRow,onViewBreakdown:this.onViewBreakdown,requiredType:{type:"liquids",min:1}}),r.a.createElement(W.Step3,{currentStep:this.state.currentStep,selectedProduct:this.state.selected.product,activeAddons:this.state.activeAddons,finalRows:this.state.finalRows,dividedBy:this.state.dividedBy})))}}]),t}(n.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/rc-nutrition-calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/rc-nutrition-calculator","/service-worker.js");D?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):F(t,e)})}}()},29:function(e){e.exports={a:"rc-nutrition-calculator"}},92:function(e,t,a){e.exports=a(186)},97:function(e,t,a){},99:function(e,t,a){}},[[92,2,1]]]);
//# sourceMappingURL=main.996d4354.chunk.js.map